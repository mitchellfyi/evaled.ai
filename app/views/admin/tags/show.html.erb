<div class="page-header" style="display: flex; justify-content: space-between; align-items: center;">
  <h1>
    <span class="tag-badge" style="background-color: <%= @tag.color %>; color: white; padding: 0.25rem 0.75rem; border-radius: 9999px;">
      <%= @tag.name %>
    </span>
  </h1>
  <div>
    <%= link_to "Edit", edit_admin_tag_path(@tag), class: "btn btn-primary" %>
    <%= link_to "Back", admin_tags_path, class: "btn btn-secondary" %>
  </div>
</div>

<style>
  .info-card {
    background: white;
    border-radius: 0.75rem;
    padding: 1.5rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    margin-bottom: 1.5rem;
  }
  
  .info-card dt {
    font-weight: 600;
    color: #374151;
    margin-bottom: 0.25rem;
  }
  
  .info-card dd {
    margin-bottom: 1rem;
    color: #6b7280;
  }
  
  .data-table {
    width: 100%;
    background: white;
    border-radius: 0.75rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  
  .data-table th,
  .data-table td {
    padding: 1rem;
    text-align: left;
    border-bottom: 1px solid #e5e7eb;
  }
  
  .data-table th {
    background: #f9fafb;
    font-weight: 600;
    font-size: 0.875rem;
    color: #374151;
  }
  
  .btn {
    display: inline-block;
    padding: 0.5rem 1rem;
    border-radius: 0.375rem;
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
  }
  
  .btn-primary { background: #4f46e5; color: white; }
  .btn-secondary { background: #e5e7eb; color: #374151; }
</style>

<div class="info-card">
  <dl>
    <dt>Slug</dt>
    <dd><code><%= @tag.slug %></code></dd>
    
    <dt>Color</dt>
    <dd>
      <span style="display: inline-block; width: 1rem; height: 1rem; border-radius: 0.25rem; background: <%= @tag.color %>; vertical-align: middle;"></span>
      <%= @tag.color %>
    </dd>
    
    <% if @tag.description.present? %>
      <dt>Description</dt>
      <dd><%= @tag.description %></dd>
    <% end %>
    
    <dt>Agents Tagged</dt>
    <dd><%= @agents.count %></dd>
  </dl>
</div>

<h2 style="margin-bottom: 1rem;">Tagged Agents</h2>

<% if @agents.any? %>
  <table class="data-table">
    <thead>
      <tr>
        <th>Agent</th>
        <th>Category</th>
        <th>Score</th>
      </tr>
    </thead>
    <tbody>
      <% @agents.each do |agent| %>
        <tr>
          <td><%= link_to agent.name, admin_agent_path(agent) %></td>
          <td><%= agent.category %></td>
          <td><%= agent.score&.round(1) || "â€”" %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p style="color: #6b7280;">No agents have this tag yet.</p>
<% end %>
